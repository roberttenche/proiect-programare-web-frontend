
<div class="grid">

  <div class="chat-head-container col-2">
    <div class="chat-head" *ngFor="let user of userList" [ngClass]="{'chat-selected': this.selectedSurgeonId == user.id}" (click)="setSelectedSurgeonId(user.id)" >
      <p-avatar [image]="user.imageUrl" styleClass="mr-2" size="xlarge" shape="circle">
      </p-avatar>
      <label [textContent]="user.firstName + ' ' + user.lastName"></label>
    </div>
  </div>

  <div class="chat col">
    <div class="card flex">
      <p-virtualScroller [value]="messageList" class="scroller border-1 surface-border border-round" scrollHeight="690px" [itemSize]="50">

        <ng-template class="test" pTemplate="message" let-message>

          <div class="chat-bubble" [ngClass]="{'message-right': !message.sentBySurgeon, 'message-left': message.sentBySurgeon}">
            {{ message.text }}
          </div>

        </ng-template>

      </p-virtualScroller>
  </div>

    <div class="message-bar row">
      <button *ngIf="this.chatVisible" (click)="sendMessage()" pButton pRipple type="button" icon="pi pi-send" class="p-button-rounded p-button-text" style="margin-top: auto;"></button>
      <input *ngIf="this.chatVisible"  [(ngModel)]="this.textMessage" pInputText placeholder="Type a message" style="margin-top: auto; min-width: 100vh;"/>
    </div>

  </div>

</div>



